function activateLikeButtons(){var e=document.querySelectorAll("button.like-button");console.log("activating like buttons ",e.length),e.forEach(e=>{e.activated||(e.activated=!0,console.log("like button",e),e.addEventListener("click",e=>{var t=e.target,a=e.target.parentElement,n={content:t.dataset.content,type:t.dataset.type};if(updateMode)return toast.show("Lospec is currently in read-only mode.","warning");"true"!=t.dataset.login?a.classList.contains("liked")?(a.classList.remove("liked"),ajax("/likes/unlike",n,e=>{e.success?ga("send","event","unlike",t.dataset.type,window.location.pathname):(a.classList.add("liked"),toast.show("There was a problem removing your like.","warning"))})):(a.classList.add("liked"),ajax("/likes/like",n,e=>{e.success?ga("send","event","like",t.dataset.type,window.location.pathname):(a.classList.remove("liked"),toast.show("There was a problem saving your like.","warning"))})):document.querySelector(".popup.sign-up").show()}))})}activateLikeButtons();